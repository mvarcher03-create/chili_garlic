{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Log in Â· Chili Garlic House</title>
	<link rel="stylesheet" href="{% static 'css/style.css' %}">
	<style>
		:root {
			--red: #b91c1c;
			--red-dark: #7f1d1d;
			--yellow: #facc15;
			--bg: #020617;
			--white: #ffffff;
		}
		* {
			box-sizing: border-box;
			margin: 0;
			padding: 0;
		}
		body {
			min-height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
			background: radial-gradient(circle at top, rgba(250, 204, 21, 0.16), #ffffff 55%, #fee2e2 100%);
			font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
			color: #111827;
		}
		.page {
			width: 100%;
			max-width: 400px;
			padding: 1.5rem;
		}
		.card {
			background: #ffffff;
			border-radius: 1.25rem;
			padding: 1.75rem 1.5rem 1.5rem;
			border: 1px solid #e5e7eb;
			box-shadow: 0 18px 45px rgba(15, 23, 42, 0.08);
		}
		.brand {
			display: flex;
			align-items: center;
			gap: 0.75rem;
			margin-bottom: 1.5rem;
		}
		.brand-logo {
			width: 40px;
			height: 40px;
			border-radius: 999px;
			background: conic-gradient(from 200deg, var(--yellow), var(--red), var(--red-dark));
			display: flex;
			align-items: center;
			justify-content: center;
			font-weight: 800;
			font-size: 1.1rem;
		}
		.brand-logo img {
			width: 100%;
			height: 100%;
			object-fit: contain;
			border-radius: inherit;
		}
		.brand-text span:first-child {
			font-size: 0.9rem;
			font-weight: 600;
		}
		.brand-text span:last-child {
			font-size: 0.75rem;
			color: #6b7280;
		}
		h1 {
			font-size: 1.4rem;
			margin-bottom: 0.25rem;
		}
		p.subtitle {
			font-size: 0.9rem;
			color: #4b5563;
			margin-bottom: 1.25rem;
		}
		.alert {
			background: #fee2e2;
			border: 1px solid #fecaca;
			color: #991b1b;
			border-radius: 0.75rem;
			padding: 0.6rem 0.75rem;
			font-size: 0.8rem;
			margin-bottom: 0.9rem;
		}
		form {
			display: flex;
			flex-direction: column;
			gap: 0.9rem;
		}
		label {
			font-size: 0.8rem;
			color: #374151;
		}
		input[type="text"],
		input[type="password"] {
			width: 100%;
			border-radius: 0.8rem;
			border: 1px solid #d1d5db;
			background: #ffffff;
			padding: 0.55rem 0.75rem;
			color: #111827;
			font-size: 0.9rem;
			outline: none;
			transition: border-color 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
		}
		input[type="text"]:focus,
		input[type="password"]:focus {
			border-color: #f97316;
			box-shadow: 0 0 0 1px rgba(249, 115, 22, 0.7);
			background: #ffffff;
		}
		.btn-primary {
			width: 100%;
			margin-top: 0.5rem;
			border-radius: 999px;
			border: none;
			padding: 0.6rem 0.75rem;
			background: linear-gradient(135deg, var(--red), var(--red-dark));
			color: var(--white);
			font-weight: 600;
			font-size: 0.95rem;
			cursor: pointer;
			box-shadow: 0 12px 30px rgba(185, 28, 28, 0.8);
			transition: transform 0.15s ease, box-shadow 0.15s ease;
		}
		.btn-primary:hover {
			transform: translateY(-1px);
			box-shadow: 0 16px 40px rgba(185, 28, 28, 1);
		}
		.password-row {
			display: flex;
			align-items: center;
			gap: 0.4rem;
			margin-top: 0.25rem;
		}
		.password-toggle {
			border-radius: 999px;
			border: 1px solid rgba(148, 163, 184, 0.6);
			background: rgba(15, 23, 42, 0.95);
			color: #e5e7eb;
			font-size: 0.75rem;
			padding: 0.25rem 0.6rem;
			cursor: pointer;
		}
		.password-toggle:hover {
			border-color: rgba(248, 113, 113, 0.9);
		}
		.remember-row {
			margin-top: -0.25rem;
			font-size: 0.8rem;
			color: #e5e7eb;
		}
		.remember-row label {
			display: inline-flex;
			align-items: center;
			gap: 0.35rem;
			cursor: pointer;
		}
		.remember-row input[type="checkbox"] {
			width: 14px;
			height: 14px;
		}
		.meta {
			margin-top: 1rem;
			font-size: 0.8rem;
			color: #6b7280;
			display: flex;
			justify-content: space-between;
			flex-wrap: wrap;
			gap: 0.5rem;
		}
		.meta a {
			color: #b91c1c;
			text-decoration: none;
			border-bottom: 1px dashed rgba(248, 113, 113, 0.7);
		}
		.badge {
			font-size: 0.7rem;
			padding: 0.25rem 0.55rem;
			border-radius: 999px;
			border: 1px solid rgba(250, 204, 21, 0.8);
			color: #fef9c3;
		}
	</style>
</head>
<body>
	<div class="page">
		<div class="card">
			<div class="brand">
				<div class="brand-logo">
					<img src="{% static 'imgs/Intoy_Logo.jpg' %}" alt="Intoy's Chili Garlic Kitchen logo" />
				</div>
				<div class="brand-text">
					<span>Chili Garlic House</span>
					<span>Welcome back</span>
				</div>
			</div>
			<h1>Log in</h1>
			<p class="subtitle">Access your chili garlic dashboard. Admins will be redirected to the admin panel.</p>

			{% if messages %}
				{% for message in messages %}
					<div class="alert">{{ message }}</div>
				{% endfor %}
			{% endif %}

			<form method="post">
				{% csrf_token %}
				<div>
					<label for="id_username">Username</label>
					<input type="text" name="username" id="id_username" required />
				</div>
				<div>
					<label for="id_password">Password</label>
					<div class="password-row">
						<input type="password" name="password" id="id_password" required />
						<button type="button" class="password-toggle" data-target="id_password">Show</button>
					</div>
				</div>
				<div class="remember-row">
					<label for="id_remember_me">
						<input type="checkbox" name="remember_me" id="id_remember_me" />
						Remember me on this device
					</label>
				</div>
				<button type="submit" class="btn-primary">Continue</button>
			</form>

			<div class="meta">
				<span class="badge">Tip: Admins use staff accounts from Django admin.</span>
				<span>New here? <a href="{% url 'register' %}">Create a customer account</a></span>
				<span><a href="{% url 'home' %}">Back to home</a></span>
			</div>
		</div>
	</div>
	<script>
		(function () {
			var toggles = document.querySelectorAll('.password-toggle');
			toggles.forEach(function (btn) {
				btn.addEventListener('click', function () {
					var targetId = btn.getAttribute('data-target');
					var input = document.getElementById(targetId);
					if (!input) return;
					if (input.type === 'password') {
						input.type = 'text';
						btn.textContent = 'Hide';
					} else {
						input.type = 'password';
						btn.textContent = 'Show';
					}
				});
			});
		})();
	</script>
</body>
</html>
